<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash Royale Imposter Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0c4a6e, #1e40af, #0c4a6e);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(8, 25, 45, 0.9);
            border-radius: 20px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            border: 3px solid #fbbf24;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(90deg, #3b82f6, #60a5fa, #fbbf24);
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 2.8rem;
            color: #0c1a29;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 2px;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            font-weight: 800;
        }

        .header p {
            color: #0c1a29;
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
            font-weight: 600;
        }

        .cr-logo {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2.2rem;
            color: #0c1a29;
            z-index: 2;
        }

        .game-section {
            padding: 25px;
        }

        .setup-section {
            text-align: center;
            margin-bottom: 25px;
            background: rgba(15, 45, 85, 0.7);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #3b82f6;
        }

        .setup-section h2 {
            color: #fbbf24;
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            font-weight: 700;
        }

        .input-group {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        label {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
        }

        input {
            width: 110px;
            padding: 10px 15px;
            border: 3px solid #fbbf24;
            border-radius: 10px;
            font-size: 1.1rem;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            outline: none;
            transition: all 0.3s ease;
        }

        input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .buttons-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            background: linear-gradient(45deg, #3b82f6, #60a5fa);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 6px 15px rgba(59, 130, 246, 0.4);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.6);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-reveal {
            background: linear-gradient(45deg, #fbbf24, #fcd34d);
            color: #0c1a29;
            box-shadow: 0 6px 15px rgba(251, 191, 36, 0.4);
        }

        .btn-reveal:hover {
            box-shadow: 0 8px 20px rgba(251, 191, 36, 0.6);
        }

        .btn-hide {
            background: linear-gradient(45deg, #8b5cf6, #a78bfa);
            box-shadow: 0 6px 15px rgba(139, 92, 246, 0.4);
        }

        .btn-hide:hover {
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.6);
        }

        .btn-restart {
            background: linear-gradient(45deg, #10b981, #34d399);
            box-shadow: 0 6px 15px rgba(16, 185, 129, 0.4);
        }

        .btn-restart:hover {
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.6);
        }

        .game-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .card {
            background: linear-gradient(145deg, #1e3a8a, #0c1a2a);
            border-radius: 15px;
            padding: 30px 15px;
            text-align: center;
            border: 2px solid #3b82f6;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: #fbbf24;
            box-shadow: 0 15px 30px rgba(251, 191, 36, 0.4);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #fbbf24, #60a5fa);
        }

        /* Imposter gets a red top bar */
        .card.imposter::before {
            background: linear-gradient(90deg, #ef4444, #f87171);
        }

        .card-content {
            position: relative;
            z-index: 2;
        }

        .card-title {
            font-size: 1.6rem;
            color: white;
            font-weight: bold;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        /* Hidden state - only show player number */
        .card.hidden .card-title {
            font-size: 2rem;
            margin-bottom: 0;
        }

        .card.hidden .character-info {
            display: none;
        }

        /* Revealed state - show character info */
        .card.revealed .character-info {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .character-info {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
        }

        .character-name {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Normal players: gold text */
        .card:not(.imposter) .character-name {
            color: #fbbf24;
        }

        /* Imposter: red text */
        .card.imposter .character-name {
            color: #ef4444;
            font-style: italic;
        }

        .hidden-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 0.4s ease;
            cursor: pointer;
        }

        .card:not(.revealed) .hidden-overlay {
            opacity: 1;
            pointer-events: auto;
        }

        .card.revealed .hidden-overlay {
            opacity: 0;
            pointer-events: none;
        }

        .question-mark {
            font-size: 5rem;
            color: #fbbf24;
            margin-bottom: 15px;
            text-shadow: 0 0 25px rgba(251, 191, 36, 0.5);
        }

        .click-text {
            color: white;
            font-size: 1.1rem;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 20px;
            border-radius: 20px;
        }

        .controls-section {
            text-align: center;
            margin-top: 25px;
            padding: 20px;
            background: rgba(15, 45, 85, 0.5);
            border-radius: 15px;
            display: none;
        }

        .controls-section.show {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .error-message {
            color: #ef4444;
            font-size: 1.1rem;
            margin-top: 15px;
            font-weight: bold;
            display: none;
            text-align: center;
        }

        .status-bar {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            color: white;
            font-size: 1rem;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-item i {
            color: #fbbf24;
        }

        /* Creator footer */
        .creator-footer {
            margin-top: 18px;
            padding: 12px 20px;
            background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border-top: 1px solid rgba(255,255,255,0.03);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: rgba(255,255,255,0.75);
            font-size: 0.95rem;
            gap: 10px;
            flex-wrap: wrap;
        }

        .creator-left {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .creator-left i {
            color: #fbbf24;
            font-size: 1.1rem;
        }

        .creator-right {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.55);
        }

        @media (max-width: 768px) {
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .card {
                min-height: 180px;
                padding: 25px 10px;
            }
            
            .question-mark {
                font-size: 4rem;
            }

            .creator-footer {
                justify-content: center;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .btn {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            .card-title {
                font-size: 1.4rem;
            }
            
            .question-mark {
                font-size: 3.5rem;
            }
            
            .click-text {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-crown"></i> CLASH ROYALE IMPOSTER</h1>
            <p>One Imposter Among the Royal Army!</p>
            <div class="cr-logo"><i class="fas fa-chess-rook"></i></div>
        </div>

        <div class="game-section">
            <div class="setup-section">
                <h2><i class="fas fa-users"></i> GAME SETUP</h2>
                <div class="input-group">
                    <label for="playerCount"><i class="fas fa-hashtag"></i> Players (3-12):</label>
                    <input type="number" id="playerCount" min="3" max="12" value="6" placeholder="3-12">
                </div>
                <div class="error-message" id="errorMessage">Number of players must be between 3 and 12!</div>
                
                <div class="buttons-group">
                    <button id="startBtn" class="btn"><i class="fas fa-play"></i> START GAME</button>
                </div>
            </div>

            <div class="controls-section" id="controlsSection">
                <div class="buttons-group">
                    <button id="revealBtn" class="btn btn-reveal"><i class="fas fa-eye"></i> REVEAL ALL</button>
                    <button id="hideBtn" class="btn btn-hide"><i class="fas fa-eye-slash"></i> HIDE ALL</button>
                    <button id="restartBtn" class="btn btn-restart"><i class="fas fa-redo"></i> NEW GAME</button>
                </div>
                <div class="status-bar">
                    <div class="status-item">
                        <i class="fas fa-user-friends"></i>
                        <span id="playerCountDisplay">6 players</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-mask"></i>
                        <span id="imposterStatus">1 imposter</span>
                    </div>
                </div>
            </div>

            <div class="game-cards" id="gameCards">
                <!-- Cards will be generated here -->
            </div>
        </div>

        <!-- Creator footer added -->
        <div class="creator-footer" aria-hidden="false">
            <div class="creator-left">
                <i class="fas fa-pen-nib" aria-hidden="true"></i>
                <span>Created by Abdulla Habib</span>
            </div>
            <div class="creator-right">Thank you for playing!</div>
        </div>
    </div>

    <script>
        // Comprehensive Clash Royale characters list
        const characters = [
            "Archers", "Barbarians", "Elite Barbarians", "Bomber", "Bats", "Knight", 
            "Goblins", "Minions", "Minion Horde", "Mortar", "Royal Giant", "Spear Goblins", 
            "Skeletons", "Tesla", "Ice Spirit", "Firecracker", "Skeleton Barrel", "Goblin Gang", 
            "Royal Recruits", "Berserker", "Skeleton Dragons", "Rascals", "Mini P.E.K.K.A", 
            "Musketeer", "Giant", "Valkyrie", "Wizard", "Hog Rider", "Three Musketeers", 
            "Lava Hound", "Ice Golem", "Mega Minion", "Dart Goblin", "Battle Ram", 
            "Flying Machine", "Zappies", "Battle Healer", "Ice Wizard", "Princess", 
            "Miner", "Sparky", "Bowler", "Lumberjack", "Inferno Dragon", "Electro Wizard", 
            "Baby Dragon", "Witch", "Giant Skeleton", "Golem", "Dark Prince", "Prince", 
            "Skeleton Army", "Balloon", "Goblin Giant", "Goblin Hut", "Cannon", 
            "Fire Spirits", "Zap", "Rocket", "Fireball", "Arrows", "The Log"
        ];

        // DOM elements
        const playerCountInput = document.getElementById('playerCount');
        const startBtn = document.getElementById('startBtn');
        const gameCards = document.getElementById('gameCards');
        const controlsSection = document.getElementById('controlsSection');
        const revealBtn = document.getElementById('revealBtn');
        const hideBtn = document.getElementById('hideBtn');
        const restartBtn = document.getElementById('restartBtn');
        const errorMessage = document.getElementById('errorMessage');
        const playerCountDisplay = document.getElementById('playerCountDisplay');
        const imposterStatus = document.getElementById('imposterStatus');

        // Game state
        let currentPlayerCount = 6;
        let selectedCharacter = null;
        let imposterIndex = -1;

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            playerCountInput.value = currentPlayerCount;
            updateStatus();
        });

        // Start game
        startBtn.addEventListener('click', startGame);

        function startGame() {
            const count = parseInt(playerCountInput.value);
            
            if (count < 3 || count > 12) {
                errorMessage.style.display = 'block';
                return;
            }
            
            errorMessage.style.display = 'none';
            currentPlayerCount = count;
            updateStatus();
            
            // Clear previous cards
            gameCards.innerHTML = '';
            
            // Randomly select a character for all *normal* players
            const randomIndex = Math.floor(Math.random() * characters.length);
            selectedCharacter = characters[randomIndex];
            
            // Generate random imposter index (0 to count-1)
            imposterIndex = Math.floor(Math.random() * currentPlayerCount);
            
            // Create cards
            for (let i = 0; i < currentPlayerCount; i++) {
                const card = document.createElement('div');
                card.className = 'card hidden';
                card.dataset.player = i;
                
                // Set content: all look the same when hidden
                const cardContent = `
                    <div class="card-content">
                        <div class="card-title">Player ${i + 1}</div>
                        <div class="character-info">
                            <div class="character-name">
                                ${i === imposterIndex ? '‚ùì UNKNOWN' : selectedCharacter}
                            </div>
                        </div>
                    </div>
                    <div class="hidden-overlay">
                        <div class="question-mark">?</div>
                        <div class="click-text">Click to reveal</div>
                    </div>
                `;
                
                card.innerHTML = cardContent;
                
                // If this is the imposter, mark it (but don't reveal visually yet)
                if (i === imposterIndex) {
                    card.dataset.isImposter = "true";
                }
                
                // Add click event to toggle reveal/unreveal
                card.addEventListener('click', () => toggleCard(card));
                
                gameCards.appendChild(card);
            }
            
            // Show controls section
            controlsSection.classList.add('show');
        }

        // Toggle card reveal/unreveal
        function toggleCard(card) {
            if (card.classList.contains('revealed')) {
                // Hide the card
                card.classList.remove('revealed', 'imposter');
                card.classList.add('hidden');
            } else {
                // Reveal the card
                card.classList.remove('hidden');
                card.classList.add('revealed');
                
                // If it's the imposter, apply imposter styling
                if (card.dataset.isImposter === "true") {
                    card.classList.add('imposter');
                }
            }
        }

        // Reveal all cards
        revealBtn.addEventListener('click', () => {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.classList.remove('hidden');
                card.classList.add('revealed');
                
                // Apply imposter styling if needed
                if (card.dataset.isImposter === "true") {
                    card.classList.add('imposter');
                }
            });
        });

        // Hide all cards
        hideBtn.addEventListener('click', () => {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.classList.remove('revealed', 'imposter');
                card.classList.add('hidden');
            });
        });

        // Restart game
        restartBtn.addEventListener('click', () => {
            controlsSection.classList.remove('show');
            gameCards.innerHTML = '';
            playerCountInput.value = currentPlayerCount;
        });

        // Update status display
        function updateStatus() {
            playerCountDisplay.textContent = `${currentPlayerCount} players`;
            imposterStatus.textContent = `1 imposter`;
        }

        // Allow Enter key to start game
        playerCountInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                startGame();
            }
        });

        // Prevent non-numeric input
        playerCountInput.addEventListener('input', function() {
            this.value = this.value.replace(/[^0-9]/g, '');
            const num = parseInt(this.value);
            if (num < 3) this.value = '3';
            if (num > 12) this.value = '12';
        });
    </script>
</body>
</html>
